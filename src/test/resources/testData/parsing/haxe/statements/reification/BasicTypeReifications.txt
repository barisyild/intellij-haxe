Haxe File
  PACKAGE_STATEMENT
    HaxePsiToken:package('package')
    HaxePsiToken:;(';')
  MODULE
    CLASS_DECLARATION
      HaxePsiToken:class('class')
      COMPONENT_NAME
        IDENTIFIER
          HaxePsiToken:ID('MacroTest')
      CLASS_BODY
        HaxePsiToken:{('{')
        METHOD_DECLARATION
          METHOD_MODIFIER
            HaxePsiToken:macro('macro')
          METHOD_MODIFIER
            HaxePsiToken:public('public')
          HaxePsiToken:function('function')
          COMPONENT_NAME
            IDENTIFIER
              HaxePsiToken:ID('macroTypeReification')
          HaxePsiToken:(('(')
          PARAMETER_LIST
            <empty list>
          HaxePsiToken:)(')')
          BLOCK_STATEMENT
            HaxePsiToken:{('{')
            PsiComment(MSL_COMMENT)('// ComplexType.TPath')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('path')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        TYPE
                          REFERENCE_EXPRESSION
                            REFERENCE_EXPRESSION
                              REFERENCE_EXPRESSION
                                IDENTIFIER
                                  HaxePsiToken:ID('haxe')
                              HaxePsiToken:.('.')
                              IDENTIFIER
                                HaxePsiToken:ID('ds')
                            HaxePsiToken:.('.')
                            IDENTIFIER
                              HaxePsiToken:ID('Map')
              HaxePsiToken:;(';')
            PsiComment(MSL_COMMENT)('// ComplexType.TFunction')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('func')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        OPEN_PARAMETER_LIST
                          UNTYPED_PARAMETER
                            COMPONENT_NAME
                              IDENTIFIER
                                HaxePsiToken:ID('String')
                        HaxePsiToken:->('->')
                        FUNCTION_LITERAL
                          OPEN_PARAMETER_LIST
                            UNTYPED_PARAMETER
                              COMPONENT_NAME
                                IDENTIFIER
                                  HaxePsiToken:ID('Int')
                          HaxePsiToken:->('->')
                          REFERENCE_EXPRESSION
                            IDENTIFIER
                              HaxePsiToken:ID('Float')
              HaxePsiToken:;(';')
            PsiComment(MSL_COMMENT)('// ComplexType.TAnonymous')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('anon')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        ANONYMOUS_TYPE_BODY
                          HaxePsiToken:{('{')
                          ANONYMOUS_TYPE_FIELD_LIST
                            ANONYMOUS_TYPE_FIELD
                              COMPONENT_NAME
                                IDENTIFIER
                                  HaxePsiToken:ID('field')
                              TYPE_TAG
                                HaxePsiToken::(':')
                                TYPE_OR_ANONYMOUS
                                  TYPE
                                    REFERENCE_EXPRESSION
                                      IDENTIFIER
                                        HaxePsiToken:ID('String')
                          HaxePsiToken:}('}')
              HaxePsiToken:;(';')
            PsiComment(MSL_COMMENT)('// ComplexType.TExtend')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('extendedAnon')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        HaxePsiToken:{('{')
                        TYPE_EXTENDS_LIST
                          HaxePsiToken:>('>')
                          TYPE
                            REFERENCE_EXPRESSION
                              IDENTIFIER
                                HaxePsiToken:ID('Type')
                        HaxePsiToken:,(',')
                        ANONYMOUS_TYPE_FIELD_LIST
                          ANONYMOUS_TYPE_FIELD
                            COMPONENT_NAME
                              IDENTIFIER
                                HaxePsiToken:ID('field')
                            TYPE_TAG
                              HaxePsiToken::(':')
                              TYPE_OR_ANONYMOUS
                                TYPE
                                  REFERENCE_EXPRESSION
                                    IDENTIFIER
                                      HaxePsiToken:ID('Type')
                        HaxePsiToken:}('}')
              HaxePsiToken:;(';')
            PsiComment(MSL_COMMENT)('// ComplexType.TParent')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('parent')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        HaxePsiToken:(('(')
                        TYPE
                          REFERENCE_EXPRESSION
                            IDENTIFIER
                              HaxePsiToken:ID('Type')
                        HaxePsiToken:)(')')
              HaxePsiToken:;(';')
            PsiComment(MSL_COMMENT)('// ComplexType.TOptional')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('optional')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        HaxePsiToken:?('?')
                        TYPE
                          REFERENCE_EXPRESSION
                            IDENTIFIER
                              HaxePsiToken:ID('String')
              HaxePsiToken:;(';')
            PsiComment(MSL_COMMENT)('//ComplexType.TIntersection')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('intersectionA')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        ANONYMOUS_TYPE_BODY
                          HaxePsiToken:{('{')
                          ANONYMOUS_TYPE_FIELD_LIST
                            ANONYMOUS_TYPE_FIELD
                              COMPONENT_NAME
                                IDENTIFIER
                                  HaxePsiToken:ID('a')
                              TYPE_TAG
                                HaxePsiToken::(':')
                                TYPE_OR_ANONYMOUS
                                  TYPE
                                    REFERENCE_EXPRESSION
                                      IDENTIFIER
                                        HaxePsiToken:ID('String')
                          HaxePsiToken:}('}')
                        HaxePsiToken:&('&')
                        ANONYMOUS_TYPE_BODY
                          HaxePsiToken:{('{')
                          ANONYMOUS_TYPE_FIELD_LIST
                            ANONYMOUS_TYPE_FIELD
                              COMPONENT_NAME
                                IDENTIFIER
                                  HaxePsiToken:ID('b')
                              TYPE_TAG
                                HaxePsiToken::(':')
                                TYPE_OR_ANONYMOUS
                                  TYPE
                                    REFERENCE_EXPRESSION
                                      IDENTIFIER
                                        HaxePsiToken:ID('String')
                          HaxePsiToken:}('}')
              HaxePsiToken:;(';')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('intersectionB')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        TYPE
                          REFERENCE_EXPRESSION
                            IDENTIFIER
                              HaxePsiToken:ID('MacroTest')
                        HaxePsiToken:&('&')
                        ANONYMOUS_TYPE_BODY
                          HaxePsiToken:{('{')
                          HaxePsiToken:}('}')
              HaxePsiToken:;(';')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('intersectionC')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        TYPE
                          REFERENCE_EXPRESSION
                            IDENTIFIER
                              HaxePsiToken:MACRO_ID('$anon')
                        HaxePsiToken:&('&')
                        ANONYMOUS_TYPE_BODY
                          HaxePsiToken:{('{')
                          HaxePsiToken:}('}')
              HaxePsiToken:;(';')
            LOCAL_VAR_DECLARATION_LIST
              MUTABILITY_MODIFIER
                HaxePsiToken:var('var')
              LOCAL_VAR_DECLARATION
                COMPONENT_NAME
                  IDENTIFIER
                    HaxePsiToken:ID('intersectionD')
                TYPE_TAG
                  HaxePsiToken::(':')
                  TYPE_OR_ANONYMOUS
                    TYPE
                      REFERENCE_EXPRESSION
                        IDENTIFIER
                          HaxePsiToken:ID('ComplexType')
                VAR_INIT
                  HaxePsiToken:=('=')
                  VALUE_EXPRESSION
                    MACRO_TYPE_REIFICATION
                      HaxePsiToken:macro('macro')
                      HaxePsiToken::(':')
                      COMPLEX_TYPE
                        ANONYMOUS_TYPE_BODY
                          HaxePsiToken:{('{')
                          HaxePsiToken:}('}')
                        HaxePsiToken:&('&')
                        ANONYMOUS_TYPE_BODY
                          HaxePsiToken:{('{')
                          HaxePsiToken:}('}')
              HaxePsiToken:;(';')
            HaxePsiToken:}('}')
        HaxePsiToken:}('}')